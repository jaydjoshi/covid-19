(this["webpackJsonpcovid-19-ui-app"]=this["webpackJsonpcovid-19-ui-app"]||[]).push([[0],{106:function(e,t,s){"use strict";s.r(t);var a=s(1),n=s.n(a),r=s(22),c=s.n(r),i=(s(66),s(51)),l=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,107)).then((function(t){var s=t.getCLS,a=t.getFID,n=t.getFCP,r=t.getLCP,c=t.getTTFB;s(e),a(e),n(e),r(e),c(e)}))},o=s(0);c.a.render(Object(o.jsx)(n.a.StrictMode,{children:Object(o.jsx)(i.a,{})}),document.getElementById("root")),l()},18:function(e,t,s){"use strict";s.d(t,"a",(function(){return a}));var a="https://covid-19-dashboard-rest-api.herokuapp.com/"},25:function(e,t,s){"use strict";var a=s(10),n=s(11),r=s(21),c=s.n(r),i=s(18),l=function(){function e(){Object(a.a)(this,e)}return Object(n.a)(e,[{key:"login",value:function(e,t){return c.a.post(i.a+"api/auth/signin",{username:e,password:t}).then((function(e){return console.log(e.data),e.data.accessToken&&(console.log(e.data),localStorage.setItem("user",JSON.stringify(e.data))),e.data}))}},{key:"logout",value:function(){localStorage.removeItem("user")}},{key:"register",value:function(e,t,s){return c.a.post(i.a+"api/auth/signup",{username:e,email:t,password:s})}},{key:"getCurrentUser",value:function(){return JSON.parse(localStorage.getItem("user"))}}]),e}();t.a=new l},34:function(e,t,s){},50:function(e,t,s){},51:function(e,t,s){"use strict";(function(e){var a=s(10),n=s(11),r=s(15),c=s(14),i=s(1),l=s.n(i),o=(s(68),s(12)),d=s(2),h=s(52),u=s(60),j=s(55),m=s(59),b=s(57),g=s(58),v=(s(104),s(0)),O=function(e){Object(r.a)(s,e);var t=Object(c.a)(s);function s(){return Object(a.a)(this,s),t.apply(this,arguments)}return Object(n.a)(s,[{key:"render",value:function(){return Object(v.jsx)("div",{children:Object(v.jsx)("div",{className:"container-fluid",children:Object(v.jsx)("div",{className:"col-lg-12",children:Object(v.jsx)(o.a,{children:Object(v.jsxs)(d.c,{children:[Object(v.jsx)(d.a,{exact:!0,path:["/covid-19","/covid-19/login"],component:b.a}),Object(v.jsx)(d.a,{exact:!0,path:"/covid-19/register",component:g.a}),Object(v.jsx)(d.a,{exact:!0,path:"/covid-19/dashboard",component:u.a}),Object(v.jsx)(d.a,{path:"/covid-19/about",component:h.a}),Object(v.jsx)(d.a,{component:j.a})]})})})})})}}]),s}(l.a.Component);t.a=Object(m.hot)(e)(O)}).call(this,s(67)(e))},52:function(e,t,s){"use strict";s(1),s(34);var a=s(0);t.a=function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)("h2",{children:"About me"}),Object(a.jsx)("p",{children:"My name is Jay, I am a fullstack developer. I write bogs at https://distinguisheddeveloper.wordpress.com/"})]})}},55:function(e,t,s){"use strict";s(1);var a=s(12),n=s(0);t.a=function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)("h4",{children:"404 Page Not Found"}),Object(n.jsx)(a.b,{to:"/",children:" Go back to homepage "})]})}},57:function(e,t,s){"use strict";var a=s(10),n=s(11),r=s(8),c=s(15),i=s(14),l=s(1),o=s(23),d=s.n(o),h=(s(49),s(24)),u=s.n(h),j=s(25),m=(s(50),s(12)),b=s(2),g=s(0),v=function(e){if(!e)return Object(g.jsx)("div",{className:"alert alert-danger",role:"alert",children:"This field is required!"})},O=function(e){Object(c.a)(s,e);var t=Object(i.a)(s);function s(e){var n;return Object(a.a)(this,s),(n=t.call(this,e)).handleLogin=n.handleLogin.bind(Object(r.a)(n)),n.onChangeUsername=n.onChangeUsername.bind(Object(r.a)(n)),n.onChangePassword=n.onChangePassword.bind(Object(r.a)(n)),n.state={username:"",password:"",loading:!1,message:""},n}return Object(n.a)(s,[{key:"onChangeUsername",value:function(e){this.setState({username:e.target.value})}},{key:"onChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"handleLogin",value:function(e){var t=this;e.preventDefault(),this.setState({message:"",loading:!0}),this.form.validateAll(),0===this.checkBtn.context._errors.length?j.a.login(this.state.username,this.state.password).then((function(){console.log("In login.js"),t.props.history.push("/covid-19/dashboard")}),(function(e){var s=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();t.setState({loading:!1,message:s})})):this.setState({loading:!1})}},{key:"render",value:function(){var e=this;return Object(g.jsx)("div",{className:"row",children:Object(g.jsx)("div",{className:"col-sm-9 col-md-7 col-lg-5 mx-auto",children:Object(g.jsx)("div",{className:"card card-signin my-5",children:Object(g.jsxs)("div",{className:"card-body",children:[Object(g.jsx)("h5",{className:"card-title text-center",children:"Sign In"}),Object(g.jsxs)(d.a,{className:"form-signin",onSubmit:this.handleLogin,ref:function(t){e.form=t},children:[Object(g.jsxs)("div",{className:"form-label-group",children:[Object(g.jsx)("input",{type:"text",id:"username",className:"form-control",placeholder:"Username",required:!0,autoFocus:!0,value:this.state.username,onChange:this.onChangeUsername,validations:[v]}),Object(g.jsx)("label",{htmlFor:"username",children:"Username"})]}),Object(g.jsxs)("div",{className:"form-label-group",children:[Object(g.jsx)("input",{type:"password",id:"inputPassword",className:"form-control",placeholder:"Password",required:!0,value:this.state.password,onChange:this.onChangePassword,validations:[v]}),Object(g.jsx)("label",{htmlFor:"inputPassword",children:"Password"})]}),this.state.message&&Object(g.jsx)("div",{className:"form-group",children:Object(g.jsx)("div",{className:"alert alert-danger alert-validate",role:"alert",children:this.state.message})}),Object(g.jsxs)("button",{className:"btn btn-lg btn-primary btn-block text-uppercase",type:"submit",disabled:this.state.loading,children:[this.state.loading&&Object(g.jsx)("span",{className:"spinner-border spinner-border-sm"}),Object(g.jsx)("span",{children:" Sign in"})]}),Object(g.jsx)(u.a,{style:{display:"none"},ref:function(t){e.checkBtn=t}})]}),Object(g.jsx)("hr",{className:"my-4"}),Object(g.jsx)("p",{className:"text-center",children:Object(g.jsx)(m.b,{to:"/covid-19/register",children:"Create an Account"})})]})})})})}}]),s}(l.Component);t.a=Object(b.f)(O)},58:function(e,t,s){"use strict";s.d(t,"a",(function(){return f}));var a=s(17),n=s(10),r=s(11),c=s(8),i=s(15),l=s(14),o=s(1),d=s(23),h=s.n(d),u=(s(49),s(24)),j=s.n(u),m=s(25),b=s(12),g=(s(50),s(0)),v=function(e){if(!e)return Object(g.jsx)("div",{className:"alert alert-danger",role:"alert",children:"This field is required!"})},O=function(e){if(e.length<3||e.length>20)return Object(g.jsx)("div",{className:"alert alert-danger",role:"alert",children:"The username must be between 3 and 20 characters."})},p=function(e){if(e.length<6||e.length>40)return Object(g.jsx)("div",{className:"alert alert-danger",role:"alert",children:"The password must be between 6 and 40 characters."})},f=function(e){Object(i.a)(s,e);var t=Object(l.a)(s);function s(e){var a;return Object(n.a)(this,s),(a=t.call(this,e)).handleRegister=a.handleRegister.bind(Object(c.a)(a)),a.onChangeUsername=a.onChangeUsername.bind(Object(c.a)(a)),a.onChangeEmail=a.onChangeEmail.bind(Object(c.a)(a)),a.onChangePassword=a.onChangePassword.bind(Object(c.a)(a)),a.state={username:"",email:"",password:"",successful:!1,message:""},a}return Object(r.a)(s,[{key:"onChangeUsername",value:function(e){this.setState({username:e.target.value})}},{key:"onChangeEmail",value:function(e){this.setState({email:e.target.value})}},{key:"onChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"handleRegister",value:function(e){var t=this;e.preventDefault(),this.setState({message:"",successful:!1}),this.form.validateAll(),0===this.checkBtn.context._errors.length&&m.a.register(this.state.username,this.state.email,this.state.password).then((function(e){t.setState({message:e.data.message,successful:!0})}),(function(e){var s=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();t.setState({successful:!1,message:s})}))}},{key:"render",value:function(){var e,t=this;return Object(g.jsx)("div",{className:"row",children:Object(g.jsx)("div",{className:"col-sm-9 col-md-7 col-lg-5 mx-auto",children:Object(g.jsx)("div",{className:"card card-signin my-5",children:Object(g.jsxs)("div",{className:"card-body",children:[Object(g.jsx)("h5",{className:"card-title text-center",children:"Sign Up"}),Object(g.jsxs)(h.a,{className:"form-signin",onSubmit:this.handleRegister,ref:function(e){t.form=e},children:[!this.state.successful&&Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{className:"form-label-group",children:[Object(g.jsx)("input",{type:"text",id:"username",className:"form-control",placeholder:"Username",required:!0,autoFocus:!0,value:this.state.username,onChange:this.onChangeUsername,validations:[v,O]}),Object(g.jsx)("label",{htmlFor:"username",children:"Username"})]}),Object(g.jsxs)("div",{className:"form-label-group",children:[Object(g.jsx)("input",(e={type:"text",id:"email",className:"form-control",placeholder:"Email",required:!0,autoFocus:!0,value:this.state.username},Object(a.a)(e,"value",this.state.email),Object(a.a)(e,"onChange",this.onChangeEmail),Object(a.a)(e,"validations",[v]),e)),Object(g.jsx)("label",{htmlFor:"email",children:"Email"})]}),Object(g.jsxs)("div",{className:"form-label-group",children:[Object(g.jsx)("input",{type:"password",id:"inputPassword",className:"form-control",placeholder:"Password",required:!0,value:this.state.password,onChange:this.onChangePassword,validations:[v,p]}),Object(g.jsx)("label",{htmlFor:"inputPassword",children:"Password"})]}),Object(g.jsx)("button",{className:"btn btn-lg btn-primary btn-block text-uppercase",children:"Sign Up"})]}),this.state.message&&Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("div",{className:this.state.successful?"alert alert-success":"alert alert-danger",role:"alert",children:this.state.message}),Object(g.jsx)("div",{children:this.state.successful&&Object(g.jsx)("p",{className:"text-center",children:Object(g.jsx)(b.b,{to:"/covid-19",children:"Click here to Login"})})})]}),Object(g.jsx)(j.a,{style:{display:"none"},ref:function(e){t.checkBtn=e}})]})]})})})})}}]),s}(o.Component)},60:function(e,t,s){"use strict";var a=s(10),n=s(11),r=s(15),c=s(14),i=s(1),l=s.n(i),o=s(21),d=s.n(o),h=(s(34),s(13)),u=s(30),j=s.n(u),m=s(53),b=s.n(m),g={title:{text:"",align:"left",style:{textTransform:"none",fontSize:"1.5rem",fontWeight:"400",fontFamily:"Roboto"}},yAxis:{title:{text:"",style:{textTransform:"none"}}},xAxis:{type:"datetime",labels:{format:"{value:%Y-%b-%e}"},gridLineWidth:1},legend:{layout:"horizontal",align:"right",verticalAlign:"top",floating:!0},series:[],credits:{enabled:!1}},v=s(0),O=function(e){var t,s=e.data,a=e.options,n=e.id;return Object.keys(a).length&&(t=Object(h.a)(Object(h.a)({},g),{},{series:s,title:Object(h.a)(Object(h.a)({},g.title),{},{text:a.title}),yAxis:Object(h.a)(Object(h.a)({},g.yAxis),{},{title:{text:a.yLabel}}),legend:Object(h.a)(Object(h.a)({},g.legend),{},{enabled:a.legendEnable})})),Object(v.jsx)(b.a,{highcharts:j.a,options:t,id:n})};O.defaultProps={data:[],options:{},id:""};var p=O,f=s(61),x=s(54),y=s(31),N=(s(95),s(96),function(e){var t,s=e.rowData,a=e.columns,n=e.id,r=[],c=Object(x.a)(a.entries());try{for(c.s();!(t=c.n()).done;){var i=Object(f.a)(t.value,2),l=i[0],o=i[1];r.push(Object(v.jsx)(y.AgGridColumn,{field:o,sortable:!0,filter:!0},"ag-grid-col-"+l))}}catch(d){c.e(d)}finally{c.f()}return Object(v.jsx)(y.AgGridReact,{rowData:s,id:n,children:r})});N.defaultProps={rowData:[],columns:[],id:""};var w=N,C=["state","active","confirmed","deaths","recovered"],k=s(18);var S={title:"Cases",yLabel:"Count",legendEnable:!0},_=function(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.accessToken?"Bearer "+e.accessToken:{}}(),P=d.a.create({headers:{Authorization:_}}),A=function(e){Object(r.a)(s,e);var t=Object(c.a)(s);function s(e){var n;return Object(a.a)(this,s),(n=t.call(this,e)).state={data:{}},n}return Object(n.a)(s,[{key:"componentDidMount",value:function(){this.getCovidData()}},{key:"getCovidData",value:function(){var e=this;console.log("Calling API from: "+k.a),P.get(k.a+"api/covid/india").then((function(t){e.setState({isLoaded:!0,data:t.data})})).catch((function(t){e.setState({isLoaded:!1,error:t})}))}},{key:"render",value:function(){var e=this.state,t=e.error,s=e.isLoaded,a=e.data;if(t)return Object(v.jsxs)("div",{children:["Error: ",t.message]});if(s){if(void 0!==a.cases_time_series){for(var n=[],r=[],c=[],i=0;i<a.cases_time_series.length;i++){var l=a.cases_time_series[i],o=[],d=[],h=[];o.push(l.date),o.push(parseInt(l.dailyrecovered)),n.push(o),d.push(l.date),d.push(parseInt(l.dailyconfirmed)),r.push(d),h.push(l.date),h.push(parseInt(l.dailydeceased)),c.push(h)}var u={name:"Recovered",data:n},j={name:"Confirmed",data:r},m={name:"Deceased",data:c},b=a.statewise.filter((function(e){return"State Unassigned"!==e.state}));return Object(v.jsx)("div",{className:"row",children:Object(v.jsxs)("div",{className:"col-lg-12",children:[Object(v.jsxs)("div",{className:"page-header",children:[Object(v.jsx)("h2",{children:"Covid-19 Dashboard"})," ",Object(v.jsx)("hr",{})]}),Object(v.jsxs)("div",{className:"row",children:[Object(v.jsxs)("div",{className:"col-lg-4 col-md-6 col-sm-12",children:[Object(v.jsx)("p",{children:"Confirmed"}),Object(v.jsxs)("span",{children:[" ",a.cases_time_series[a.cases_time_series.length-1].totalconfirmed," "]}),Object(v.jsxs)("span",{children:[" ",a.cases_time_series[a.cases_time_series.length-1].dailyconfirmed," "]})]}),Object(v.jsxs)("div",{className:"col-lg-4 col-md-6 col-sm-12",children:[Object(v.jsx)("p",{children:"Recovered"}),Object(v.jsxs)("span",{children:[" ",a.cases_time_series[a.cases_time_series.length-1].totalrecovered," "]}),Object(v.jsxs)("span",{children:[" ",a.cases_time_series[a.cases_time_series.length-1].dailyrecovered," "]})]}),Object(v.jsxs)("div",{className:"col-lg-4 col-md-6 col-sm-12",children:[Object(v.jsx)("p",{children:"Deceased"}),Object(v.jsxs)("span",{children:[" ",a.cases_time_series[a.cases_time_series.length-1].totaldeceased," "]}),Object(v.jsxs)("span",{children:[" ",a.cases_time_series[a.cases_time_series.length-1].dailydeceased," "]})]})]}),Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)("div",{className:"col-lg-4 col-md-6 col-sm-12",children:Object(v.jsx)(p,{data:new Array(j),options:S,id:"confirmed"})}),Object(v.jsx)("div",{className:"col-lg-4 col-md-6 col-sm-12",children:Object(v.jsx)(p,{data:new Array(u),options:S,id:"recovered"})}),Object(v.jsx)("div",{className:"col-lg-4 col-md-6 col-sm-12",children:Object(v.jsx)(p,{data:new Array(m),options:S,id:"Deceased"})})]}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsx)("div",{className:"row",children:Object(v.jsx)("div",{className:"col-lg-12",children:Object(v.jsx)("div",{className:"ag-theme-alpine",style:{height:400},children:Object(v.jsx)(w,{rowData:b,columns:C,id:"AgGrid"})})})})]})})}return Object(v.jsx)("div",{children:"Invalid response..."})}return Object(v.jsx)("div",{children:"Loading..."})}}]),s}(l.a.Component);t.a=A},66:function(e,t,s){},68:function(e,t,s){}},[[106,1,2]]]);
//# sourceMappingURL=main.aef5d515.chunk.js.map