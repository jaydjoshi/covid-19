(this["webpackJsonpcovid-19-ui-app"]=this["webpackJsonpcovid-19-ui-app"]||[]).push([[0],{108:function(e,t,s){"use strict";s.r(t);var a=s(1),c=s.n(a),n=s(23),i=s.n(n),r=(s(67),s(51)),l=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,109)).then((function(t){var s=t.getCLS,a=t.getFID,c=t.getFCP,n=t.getLCP,i=t.getTTFB;s(e),a(e),c(e),n(e),i(e)}))},o=s(0);i.a.render(Object(o.jsx)(c.a.StrictMode,{children:Object(o.jsx)(r.a,{})}),document.getElementById("root")),l()},17:function(e,t,s){"use strict";var a=s(11),c=s(12),n=s(22),i=s.n(n),r=s(19),l=function(){function e(){Object(a.a)(this,e)}return Object(c.a)(e,[{key:"login",value:function(e,t){return i.a.post(r.a+"api/auth/signin",{username:e,password:t}).then((function(e){return e.data.accessToken&&localStorage.setItem("user",JSON.stringify(e.data)),e.data}))}},{key:"logout",value:function(){localStorage.removeItem("user")}},{key:"register",value:function(e,t,s){return i.a.post(r.a+"api/auth/signup",{username:e,email:t,password:s})}},{key:"getCurrentUser",value:function(){return JSON.parse(localStorage.getItem("user"))}}]),e}();t.a=new l},19:function(e,t,s){"use strict";s.d(t,"a",(function(){return a}));var a="https://covid-19-dashboard-rest-api.herokuapp.com/"},34:function(e,t,s){},50:function(e,t,s){},51:function(e,t,s){"use strict";(function(e){var a=s(11),c=s(12),n=s(15),i=s(14),r=s(1),l=s.n(r),o=(s(69),s(5)),d=s(2),j=s(52),h=s(61),u=s(56),m=s(57),b=s(60),g=s(58),v=s(59),O=(s(106),s(0)),p=function(e){Object(n.a)(s,e);var t=Object(i.a)(s);function s(){return Object(a.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){return Object(O.jsx)("div",{children:Object(O.jsx)("div",{className:"container-fluid",children:Object(O.jsx)("div",{className:"col-lg-12",children:Object(O.jsx)(o.a,{children:Object(O.jsxs)(d.c,{children:[Object(O.jsx)(d.a,{exact:!0,path:["/covid-19","/covid-19/login"],component:g.a}),Object(O.jsx)(d.a,{exact:!0,path:"/covid-19/register",component:v.a}),Object(O.jsx)(d.a,{exact:!0,path:"/covid-19/dashboard",component:h.a}),Object(O.jsx)(d.a,{path:"/covid-19/about",component:j.a}),Object(O.jsx)(d.a,{path:"/covid-19/logout",component:m.a}),Object(O.jsx)(d.a,{component:u.a})]})})})})})}}]),s}(l.a.Component);t.a=Object(b.hot)(e)(p)}).call(this,s(68)(e))},52:function(e,t,s){"use strict";s(1),s(34);var a=s(0);t.a=function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)("h2",{children:"About me"}),Object(a.jsx)("p",{children:"My name is Jay, I am a fullstack developer. I write bogs at https://distinguisheddeveloper.wordpress.com/"})]})}},56:function(e,t,s){"use strict";s(1);var a=s(5),c=s(0);t.a=function(){return Object(c.jsxs)("div",{children:[Object(c.jsx)("h4",{children:"404 Page Not Found"}),Object(c.jsx)(a.b,{to:"/",children:" Go back to homepage "})]})}},57:function(e,t,s){"use strict";s(1);var a=s(5),c=s(0);t.a=function(){return Object(c.jsxs)("div",{children:[Object(c.jsx)("h4",{children:"User logged out successfully"}),Object(c.jsx)(a.b,{to:"/covid-19",children:" Go back to homepage "})]})}},58:function(e,t,s){"use strict";var a=s(11),c=s(12),n=s(9),i=s(15),r=s(14),l=s(1),o=s(24),d=s.n(o),j=(s(49),s(25)),h=s.n(j),u=s(17),m=(s(50),s(5)),b=s(2),g=s(0),v=function(e){if(!e)return Object(g.jsx)("div",{className:"alert alert-danger",role:"alert",children:"This field is required!"})},O=function(e){Object(i.a)(s,e);var t=Object(r.a)(s);function s(e){var c;return Object(a.a)(this,s),(c=t.call(this,e)).handleLogin=c.handleLogin.bind(Object(n.a)(c)),c.onChangeUsername=c.onChangeUsername.bind(Object(n.a)(c)),c.onChangePassword=c.onChangePassword.bind(Object(n.a)(c)),c.state={username:"",password:"",loading:!1,message:""},c}return Object(c.a)(s,[{key:"onChangeUsername",value:function(e){this.setState({username:e.target.value})}},{key:"onChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"handleLogin",value:function(e){var t=this;e.preventDefault(),this.setState({message:"",loading:!0}),this.form.validateAll(),0===this.checkBtn.context._errors.length?u.a.login(this.state.username,this.state.password).then((function(){console.log("In login.js"),t.props.history.push("/covid-19/dashboard")}),(function(e){var s=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();t.setState({loading:!1,message:s})})):this.setState({loading:!1})}},{key:"render",value:function(){var e=this;return Object(g.jsx)("div",{className:"row",children:Object(g.jsx)("div",{className:"col-sm-9 col-md-7 col-lg-5 mx-auto",children:Object(g.jsx)("div",{className:"card card-signin my-5",children:Object(g.jsxs)("div",{className:"card-body",children:[Object(g.jsx)("h5",{className:"card-title text-center",children:"Sign In"}),Object(g.jsxs)(d.a,{className:"form-signin",onSubmit:this.handleLogin,ref:function(t){e.form=t},children:[Object(g.jsxs)("div",{className:"form-label-group",children:[Object(g.jsx)("input",{type:"text",id:"username",className:"form-control",placeholder:"Username",required:!0,autoFocus:!0,value:this.state.username,onChange:this.onChangeUsername,validations:[v]}),Object(g.jsx)("label",{htmlFor:"username",children:"Username"})]}),Object(g.jsxs)("div",{className:"form-label-group",children:[Object(g.jsx)("input",{type:"password",id:"inputPassword",className:"form-control",placeholder:"Password",required:!0,value:this.state.password,onChange:this.onChangePassword,validations:[v]}),Object(g.jsx)("label",{htmlFor:"inputPassword",children:"Password"})]}),this.state.message&&Object(g.jsx)("div",{className:"form-group",children:Object(g.jsx)("div",{className:"alert alert-danger alert-validate",role:"alert",children:this.state.message})}),Object(g.jsxs)("button",{className:"btn btn-lg btn-primary btn-block text-uppercase",type:"submit",disabled:this.state.loading,children:[this.state.loading&&Object(g.jsx)("span",{className:"spinner-border spinner-border-sm"}),Object(g.jsx)("span",{children:" Sign in"})]}),Object(g.jsx)(h.a,{style:{display:"none"},ref:function(t){e.checkBtn=t}})]}),Object(g.jsx)("hr",{className:"my-4"}),Object(g.jsx)("p",{className:"text-center",children:Object(g.jsx)(m.b,{to:"/covid-19/register",children:"Create an Account"})})]})})})})}}]),s}(l.Component);t.a=Object(b.f)(O)},59:function(e,t,s){"use strict";s.d(t,"a",(function(){return x}));var a=s(18),c=s(11),n=s(12),i=s(9),r=s(15),l=s(14),o=s(1),d=s(24),j=s.n(d),h=(s(49),s(25)),u=s.n(h),m=s(17),b=s(5),g=(s(50),s(0)),v=function(e){if(!e)return Object(g.jsx)("div",{className:"alert alert-danger",role:"alert",children:"This field is required!"})},O=function(e){if(e.length<3||e.length>20)return Object(g.jsx)("div",{className:"alert alert-danger",role:"alert",children:"The username must be between 3 and 20 characters."})},p=function(e){if(e.length<6||e.length>40)return Object(g.jsx)("div",{className:"alert alert-danger",role:"alert",children:"The password must be between 6 and 40 characters."})},x=function(e){Object(r.a)(s,e);var t=Object(l.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).handleRegister=a.handleRegister.bind(Object(i.a)(a)),a.onChangeUsername=a.onChangeUsername.bind(Object(i.a)(a)),a.onChangeEmail=a.onChangeEmail.bind(Object(i.a)(a)),a.onChangePassword=a.onChangePassword.bind(Object(i.a)(a)),a.state={username:"",email:"",password:"",successful:!1,message:""},a}return Object(n.a)(s,[{key:"onChangeUsername",value:function(e){this.setState({username:e.target.value})}},{key:"onChangeEmail",value:function(e){this.setState({email:e.target.value})}},{key:"onChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"handleRegister",value:function(e){var t=this;e.preventDefault(),this.setState({message:"",successful:!1}),this.form.validateAll(),0===this.checkBtn.context._errors.length&&m.a.register(this.state.username,this.state.email,this.state.password).then((function(e){t.setState({message:e.data.message,successful:!0})}),(function(e){var s=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();t.setState({successful:!1,message:s})}))}},{key:"render",value:function(){var e,t=this;return Object(g.jsx)("div",{className:"row",children:Object(g.jsx)("div",{className:"col-sm-9 col-md-7 col-lg-5 mx-auto",children:Object(g.jsx)("div",{className:"card card-signin my-5",children:Object(g.jsxs)("div",{className:"card-body",children:[Object(g.jsx)("h5",{className:"card-title text-center",children:"Sign Up"}),Object(g.jsxs)(j.a,{className:"form-signin",onSubmit:this.handleRegister,ref:function(e){t.form=e},children:[!this.state.successful&&Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{className:"form-label-group",children:[Object(g.jsx)("input",{type:"text",id:"username",className:"form-control",placeholder:"Username",required:!0,autoFocus:!0,value:this.state.username,onChange:this.onChangeUsername,validations:[v,O]}),Object(g.jsx)("label",{htmlFor:"username",children:"Username"})]}),Object(g.jsxs)("div",{className:"form-label-group",children:[Object(g.jsx)("input",(e={type:"text",id:"email",className:"form-control",placeholder:"Email",required:!0,autoFocus:!0,value:this.state.username},Object(a.a)(e,"value",this.state.email),Object(a.a)(e,"onChange",this.onChangeEmail),Object(a.a)(e,"validations",[v]),e)),Object(g.jsx)("label",{htmlFor:"email",children:"Email"})]}),Object(g.jsxs)("div",{className:"form-label-group",children:[Object(g.jsx)("input",{type:"password",id:"inputPassword",className:"form-control",placeholder:"Password",required:!0,value:this.state.password,onChange:this.onChangePassword,validations:[v,p]}),Object(g.jsx)("label",{htmlFor:"inputPassword",children:"Password"})]}),Object(g.jsx)("button",{className:"btn btn-lg btn-primary btn-block text-uppercase",children:"Sign Up"})]}),this.state.message&&Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("div",{className:this.state.successful?"alert alert-success":"alert alert-danger",role:"alert",children:this.state.message}),Object(g.jsx)("div",{children:this.state.successful&&Object(g.jsx)("p",{className:"text-center",children:Object(g.jsx)(b.b,{to:"/covid-19",children:"Click here to Login"})})})]}),Object(g.jsx)(u.a,{style:{display:"none"},ref:function(e){t.checkBtn=e}})]})]})})})})}}]),s}(o.Component)},61:function(e,t,s){"use strict";var a=s(11),c=s(12),n=s(15),i=s(14),r=s(1),l=s.n(r),o=s(22),d=s.n(o),j=(s(34),s(13)),h=s(31),u=s.n(h),m=s(53),b=s.n(m),g={title:{text:"",align:"left",style:{textTransform:"none",fontSize:"1.5rem",fontWeight:"500"}},yAxis:{title:{text:"",style:{textTransform:"none"}}},xAxis:{type:"datetime",dateTimeLabelFormats:{day:"%e-%b-%y",month:"%b-%y"}},legend:{layout:"horizontal",align:"right",verticalAlign:"top",floating:!0},series:[],credits:{enabled:!1}},v=(s(89),s(0)),O=function(e){var t,s=e.data,a=e.options,c=e.id;return Object.keys(a).length&&(t=Object(j.a)(Object(j.a)({},g),{},{series:s,title:Object(j.a)(Object(j.a)({},g.title),{},{text:a.title}),yAxis:Object(j.a)(Object(j.a)({},g.yAxis),{},{title:{text:a.yLabel}}),legend:Object(j.a)(Object(j.a)({},g.legend),{},{enabled:a.legendEnable})})),Object(v.jsx)("div",{className:"line-chart",children:Object(v.jsx)(b.a,{highcharts:u.a,options:t,id:c})})};O.defaultProps={data:[],options:{},id:""};var p=O,x=s(62),f=s(54),N=s(27),y=(s(97),s(98),function(e){var t,s=e.rowData,a=e.columns,c=e.id,n=[],i=Object(f.a)(a.entries());try{for(i.s();!(t=i.n()).done;){var r=Object(x.a)(t.value,2),l=r[0],o=r[1];"state"===o?n.push(Object(v.jsx)(N.AgGridColumn,{field:o,sortable:!0,filter:!0,resizable:!0},"ag-grid-col-"+l)):n.push(Object(v.jsx)(N.AgGridColumn,{field:o,sortable:!0,filter:!0,resizable:!0,valueFormatter:d},"ag-grid-col-"+l))}}catch(j){i.e(j)}finally{i.f()}function d(e){return e.value.toLocaleString("en-IN")}return Object(v.jsx)(N.AgGridReact,{rowData:s,id:c,onGridReady:function(e){this.gridApi=e.api,this.gridColumnApi=e.columnApi,this.gridApi.sizeColumnsToFit()},children:n})});y.defaultProps={rowData:[],columns:[],id:""};var w=y,C=["state","active","confirmed","deaths","recovered"],S=s(19),k={title:"",yLabel:"Count",legendEnable:!0},_={title:"",yLabel:"Count",legendEnable:!0},I={title:"",yLabel:"Count",legendEnable:!0},A={title:"",yLabel:"Count",legendEnable:!0};var L=s(5),P=s(17),U=function(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.accessToken?"Bearer "+e.accessToken:{}}(),F=d.a.create({headers:{Authorization:U}}),D=function(e){Object(n.a)(s,e);var t=Object(i.a)(s);function s(e){var c;return Object(a.a)(this,s),(c=t.call(this,e)).state={data:{}},c}return Object(c.a)(s,[{key:"componentDidMount",value:function(){this.getCovidData()}},{key:"getCovidData",value:function(){var e=this;console.log("Calling API from: "+S.a),F.get(S.a+"api/covid/india").then((function(t){e.setState({isLoaded:!0,data:t.data})})).catch((function(t){e.setState({isLoaded:!1,error:t})}))}},{key:"render",value:function(){var e=this.state,t=e.error,s=e.isLoaded,a=e.data;if(t)return Object(v.jsxs)("div",{children:["Error: ",t.message]});if(s){if(void 0!==a.cases_time_series){for(var c=[],n=[],i=[],r=[],l=0;l<a.cases_time_series.length;l++){var o=[],d=[],j=[],h=[],u=1e3*(x=a.cases_time_series[l]).dateInEpoch;o.push(u),o.push(parseInt(x.dailyrecovered)),c.push(o),d.push(u),d.push(parseInt(x.dailyconfirmed)),n.push(d),j.push(u),j.push(parseInt(x.dailydeceased)),i.push(j),h.push(u),h.push(d[1]-o[1]-j[1]),r.push(h)}for(var m=[],b=[],g=0,O=0;O<a.tested.length;O++){var x,f=[],N=[],y=1e3*(x=a.tested[O]).testedAsOfDateInEpoch;if(""!=x.dailyrtpcrsamplescollectedicmrapplication&&(f.push(y),f.push(parseInt(x.dailyrtpcrsamplescollectedicmrapplication)),m.push(f)),""!=x.firstdoseadministered){N.push(y);var S=parseInt(x.firstdoseadministered)-g;N.push(S),b.push(N),g=parseInt(x.firstdoseadministered)}}var U={name:"Recovered",data:c,color:"#009688"},F={name:"Confirmed",data:n,color:"#f44336"},D={name:"Deceased",data:i,color:"#6c757d"},E={name:"Active",data:r,color:"#3f51b5"},T={name:"Tested",data:m,color:"#673ab7"},R={name:"Vacinated",data:b,color:"#03a9f4"},q=a.cases_time_series[a.cases_time_series.length-1].totalconfirmed,B=a.cases_time_series[a.cases_time_series.length-1].dailyconfirmed,G=a.cases_time_series[a.cases_time_series.length-1].totalrecovered,J=a.cases_time_series[a.cases_time_series.length-1].dailyrecovered,z=a.cases_time_series[a.cases_time_series.length-1].totaldeceased,M=a.cases_time_series[a.cases_time_series.length-1].dailydeceased,V=q-G-z,W=B-J-M,H=a.statewise.filter((function(e){return"State Unassigned"!==e.state})),K=JSON.parse(localStorage.getItem("user")).username;return Object(v.jsx)("div",{className:"row",children:Object(v.jsxs)("div",{className:"col-lg-12",children:[Object(v.jsx)("br",{}),Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)("div",{className:"col-md-8 sol-sm-12",children:Object(v.jsx)("nav",{className:"page-header",children:Object(v.jsx)("h2",{children:"Covid-19 Dashboard"})})}),Object(v.jsxs)("div",{className:"col text-right",children:[Object(v.jsxs)("p",{children:["Welcome, ",K," "]}),Object(v.jsx)(L.b,{to:"/covid-19/logout",onClick:function(){return P.a.logout()},children:"logout"})]})]}),Object(v.jsx)("hr",{}),Object(v.jsx)("br",{}),Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)("div",{className:"col"}),Object(v.jsx)("div",{className:"col-lg-8 col-md-10",children:Object(v.jsxs)("div",{className:"row",children:[Object(v.jsxs)("div",{className:"col-lg-3 col-md-6 col-sm-12 text-center is-confirmed",children:[Object(v.jsx)("h4",{children:"Confirmed"}),Object(v.jsxs)("div",{children:[" ",q.toLocaleString("en-IN")," "]}),Object(v.jsxs)("div",{className:"small-text",children:[" + ",B.toLocaleString("en-IN")," "]})]}),Object(v.jsxs)("div",{className:"col-lg-3 col-md-6 col-sm-12 text-center is-recovered",children:[Object(v.jsx)("h4",{children:"Recovered"}),Object(v.jsxs)("div",{children:[" ",G.toLocaleString("en-IN")," "]}),Object(v.jsxs)("div",{className:"small-text",children:[" + ",J.toLocaleString("en-IN")," "]})]}),Object(v.jsxs)("div",{className:"col-lg-3 col-md-6 col-sm-12 text-center is-active",children:[Object(v.jsx)("h4",{children:"Active"}),Object(v.jsxs)("div",{children:[" ",V.toLocaleString("en-IN")," "]}),Object(v.jsxs)("div",{className:"small-text",children:[" + ",W.toLocaleString("en-IN")," "]})]}),Object(v.jsxs)("div",{className:"col-lg-3 col-md-6 col-sm-12 text-center is-deceased",children:[Object(v.jsx)("h4",{children:"Deceased"}),Object(v.jsxs)("div",{children:[" ",z.toLocaleString("en-IN")," "]}),Object(v.jsxs)("div",{className:"small-text",children:[" + ",M.toLocaleString("en-IN")," "]})]})]})}),Object(v.jsx)("div",{className:"col"})]}),Object(v.jsx)("br",{}),Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)("div",{className:"col"}),Object(v.jsx)("div",{className:"col-lg-11 col-md-11",children:Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)("div",{className:"col-lg-6 col-md-6 col-sm-12",children:Object(v.jsx)(p,{data:new Array(F),options:k,id:"confirmed"})}),Object(v.jsx)("div",{className:"col-lg-6 col-md-6 col-sm-12",children:Object(v.jsx)(p,{data:new Array(U),options:_,id:"recovered"})}),Object(v.jsx)("div",{className:"col-lg-6 col-md-6 col-sm-12",children:Object(v.jsx)(p,{data:new Array(E),options:I,id:"Active"})}),Object(v.jsx)("div",{className:"col-lg-6 col-md-6 col-sm-12",children:Object(v.jsx)(p,{data:new Array(D),options:A,id:"Deceased"})}),Object(v.jsx)("div",{className:"col-lg-6 col-md-6 col-sm-12",children:Object(v.jsx)(p,{data:new Array(T),options:I,id:"Tested"})}),Object(v.jsx)("div",{className:"col-lg-6 col-md-6 col-sm-12",children:Object(v.jsx)(p,{data:new Array(R),options:A,id:"Vacinated"})})]})}),Object(v.jsx)("div",{className:"col"})]}),Object(v.jsx)("br",{}),Object(v.jsx)("br",{}),Object(v.jsx)("div",{className:"row",children:Object(v.jsx)("div",{className:"col-lg-12",children:Object(v.jsx)("div",{className:"ag-theme-material",style:{height:400},children:Object(v.jsx)(w,{rowData:H,columns:C,id:"AgGrid"})})})})]})})}return Object(v.jsx)("div",{children:"Invalid response..."})}return Object(v.jsx)("div",{children:"Loading..."})}}]),s}(l.a.Component);t.a=D},67:function(e,t,s){},69:function(e,t,s){},89:function(e,t,s){}},[[108,1,2]]]);
//# sourceMappingURL=main.3413123a.chunk.js.map